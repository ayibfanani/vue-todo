<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>To Do App!</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <style>
      #todos-wrapper {
        max-height: 400px;
        overflow-y: auto;
      }
      #todos-wrapper, .button:not(.is-text), .input, .select {
        box-shadow: 0 7px 14px 0 rgba(60,66,87, 0.1), 0 3px 6px 0 rgba(0, 0, 0, .07);
        border: none;
      }
      .box {
        margin: 0 !important;
        border-radius: 0;
      }
      .is-warning {
        background: #FF775F !important;
        color: white !important;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <section class="hero is-fullheight is-bold" style="background-color: #FFD0C7;">
        <div class="hero-body">
          <div class="container has-text-centered">
            <h1 class="title">{{ title }}</h1>
            <!-- <h2 class="subtitle">
              Subtitle
            </h2> -->

            <div class="columns is-centered is-vcentered">
              <div class="column is-6 is-narrow">
                <div class="field">
                  <div class="control">
                    <input type="text" class="input is-large" placeholder="Search..." v-model="search" />
                  </div>
                </div>

                <div>
                  <div v-if="filtered_todos.length > 0" id="todos-wrapper">
                    <div class="box" v-for="(todo, $key) in filtered_todos" :key="$key" :todo="todo">
                      <div class="columns is-vcentered is-mobile">
                        <div class="column">
                          <p class="has-text-left">
                            <span class="tag is-medium is-warning">#{{ $key + 1 }}</span>
                            <span>&nbsp;&nbsp;{{ todo.body }}</span>
                          </p>
                        </div>

                        <div class="column is-narrow has-text-right">
                          <button class="button is-text has-text-danger" @click.prevent="removeTask($key)">
                            <i class="fa fa-minus-circle"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div v-else>
                    <div class="box">
                      <p class="has-text-grey">Task not found</p>
                    </div>
                  </div>
                </div>

                <br>

                <form @submit.prevent="addTask">
                  <div class="columns">
                    <div class="column">
                      <div class="field">
                        <div class="control">
                          <input type="text" class="input is-large" placeholder="Add new task" v-model="new_todo" />
                        </div>
                      </div>
                    </div>
                    <div class="column is-narrow">
                      <button type="submit" class="button is-large is-warning is-fullwidth">Add</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>